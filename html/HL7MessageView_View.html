<html xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>HL7MessageView View
				</title>
    <link href="help.css" type="text/css" rel="stylesheet"><script language="javascript" src="help.js" type="text/javascript"></script>
<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:_dlc_DocId msdt:dt="string">6UD7KFKCWNQF-239221588-1079</mso:_dlc_DocId>
<mso:_dlc_DocIdItemGuid msdt:dt="string">be2b97ba-f2a0-4acb-b493-2c9bd1d35a28</mso:_dlc_DocIdItemGuid>
<mso:_dlc_DocIdUrl msdt:dt="string">https://sp.choa.org/departments/finance/analytics/_layouts/15/DocIdRedir.aspx?ID=6UD7KFKCWNQF-239221588-1079, 6UD7KFKCWNQF-239221588-1079</mso:_dlc_DocIdUrl>
</mso:CustomDocumentProperties>
</xml><![endif]-->
</head>
  <body topmargin="0" id="bodyID" class="dtBODY"><script language="javascript">
			var myStandardHeader = new StandardHeader(true);
		
					myStandardHeader.AddNavigationItem("Patient Classification System Documentation", "default.html");
					myStandardHeader.AddNavigationItem("Views","viewlist.html");
					myStandardHeader.AddNavigationItem("HL7MessageView");
					myStandardHeader.Write();
				</script><p>
      <font size="5"><b>HL7MessageView</b></font><br></p><br><br><p>create view HL7MessageView (Guid, WhenCreated, WhenProcessed, Status, PatientID, MessageType, MessageControlIdentifier, Message) as
select
HL7Message.Guid,
HL7Message.WhenCreated,
HL7Message.WhenProcessed,
HL7Message.Status,
HL7Message.PatientID,
HL7Message.MessageType,
HL7Message.MessageControlIdentifier,
CONVERT(VARCHAR(MAX), DecryptByKeyAutoCert(CERT_ID('PatientEncryptionCertificate'), NULL, HL7Message.[Message])) Message
from
HL7Message [HL7Message] 
				</p><br><br><script language="javascript">
					var myStandardFooter = new StandardFooter();
					myStandardFooter.Write();
				</script></body>
</html>