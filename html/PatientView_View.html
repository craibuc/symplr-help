<html xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>PatientView View
				</title>
    <link href="help.css" type="text/css" rel="stylesheet"><script language="javascript" src="help.js" type="text/javascript"></script>
<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:_dlc_DocId msdt:dt="string">6UD7KFKCWNQF-239221588-2279</mso:_dlc_DocId>
<mso:_dlc_DocIdItemGuid msdt:dt="string">7ac59d24-fd57-4b5e-8164-17f994b20220</mso:_dlc_DocIdItemGuid>
<mso:_dlc_DocIdUrl msdt:dt="string">https://sp.choa.org/departments/finance/analytics/_layouts/15/DocIdRedir.aspx?ID=6UD7KFKCWNQF-239221588-2279, 6UD7KFKCWNQF-239221588-2279</mso:_dlc_DocIdUrl>
</mso:CustomDocumentProperties>
</xml><![endif]-->
</head>
  <body topmargin="0" id="bodyID" class="dtBODY"><script language="javascript">
			var myStandardHeader = new StandardHeader(true);
		
					myStandardHeader.AddNavigationItem("Patient Classification System Documentation", "default.html");
					myStandardHeader.AddNavigationItem("Views","viewlist.html");
					myStandardHeader.AddNavigationItem("PatientView");
					myStandardHeader.Write();
				</script><p>
      <font size="5"><b>PatientView</b></font><br></p><br><br><p>create view dbo.PatientView as
select
[Patient].ID,
CONVERT(VARCHAR(128), DecryptByKeyAutoCert(CERT_ID('PatientEncryptionCertificate'), NULL, [Patient].[FirstName])) FirstName,
CONVERT(VARCHAR(128), DecryptByKeyAutoCert(CERT_ID('PatientEncryptionCertificate'), NULL, [Patient].[LastName])) LastName,
CONVERT(VARCHAR(128), DecryptByKeyAutoCert(CERT_ID('PatientEncryptionCertificate'), NULL, [Patient].[MiddleName])) MiddleName,
CONVERT(TINYINT, CONVERT(VARCHAR, DecryptByKeyAutoCert(CERT_ID('PatientEncryptionCertificate'), NULL, [Patient].[Gender]))) Gender,
CONVERT(TINYINT, CONVERT(VARCHAR, DecryptByKeyAutoCert(CERT_ID('PatientEncryptionCertificate'), NULL, [Patient].[Status]))) Status,
CONVERT(DATE, CONVERT(VARCHAR, DecryptByKeyAutoCert(CERT_ID('PatientEncryptionCertificate'), NULL, [Patient].[BirthDate]))) BirthDate,
CONVERT(VARCHAR(64), DecryptByKeyAutoCert(CERT_ID('PatientEncryptionCertificate'), NULL, [Patient].[MedicalRecordNumber])) MedicalRecordNumber,
[MedicalRecordHash]
from
Patient [Patient] 
				</p><br><br><script language="javascript">
					var myStandardFooter = new StandardFooter();
					myStandardFooter.Write();
				</script></body>
</html>